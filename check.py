import re

known_patterns = [
    # frsqrt
    "0000000100010100100001..........",
    "0000000100010100100010..........",

    # movgr2fcsr
    "0000000100010100110000..........",

    # movfcsr2gr
    "0000000100010100110010..........",

    # memory
    "00111000010101110...............",
    "00111000010101111000............",

    # ld
    "00111000010110.00...............",
    "00111000010110.01...............",
    "00111000010110.10...............",
    "00111000010110.11...............",

    # amo
    "00111000010111.00...............",
    "00111000010111.01...............",
    "00111000010111.10...............",
    "00111000010111.11...............",

    # lsx
    "01110001010001001...............",
    "01110001010001010...............",

    # vindex
    "01110010100110111...............",

    # vfrsqrt
    "0111001010011101001001..........",
    "0111001010011101001010..........",

    # lasx
    "01110101010001001...............",
    "01110101010001010...............",

    # xvindex
    "01110110100110111...............",

    # xvfrsqrt
    "0111011010011101001001..........",
    "0111011010011101001010..........",
]

with open('mismatch.txt', 'r') as f:
    for line in f:
        inst = int(line.split(' ')[1], 16)
        inst_binary = "{:032b}".format(inst)

        matched = False
        for pattern in known_patterns:
            if re.match(pattern, inst_binary):
                matched = True
                break
        
        if not matched:
            print(line, end='')